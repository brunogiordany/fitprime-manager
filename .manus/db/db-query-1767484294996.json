{
  "query": "SELECT id, personalId, studentId, senderType, LEFT(message, 100) as message_preview, source, externalId, createdAt FROM chat_messages WHERE source = 'whatsapp' AND senderType = 'student' ORDER BY createdAt DESC LIMIT 20;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3TwTEpp3aQwpk4j.26ab54900c35 --database SFH8sqABSCK5KntMvXXcPM --execute SELECT id, personalId, studentId, senderType, LEFT(message, 100) as message_preview, source, externalId, createdAt FROM chat_messages WHERE source = 'whatsapp' AND senderType = 'student' ORDER BY createdAt DESC LIMIT 20;",
  "rows": [
    {
      "id": "270013",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Oi, tudo bem?",
      "source": "whatsapp",
      "externalId": "test123456",
      "createdAt": "2026-01-03 22:56:54"
    },
    {
      "id": "270011",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Teste de duplicação",
      "source": "whatsapp",
      "externalId": "MSG123456",
      "createdAt": "2026-01-03 22:30:41"
    },
    {
      "id": "270009",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Oi, qual meu treino de hoje?",
      "source": "whatsapp",
      "externalId": "NULL",
      "createdAt": "2026-01-03 22:28:47"
    },
    {
      "id": "270008",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Oi, qual meu treino de hoje?",
      "source": "whatsapp",
      "externalId": "NULL",
      "createdAt": "2026-01-03 22:27:42"
    },
    {
      "id": "270007",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Teste IA",
      "source": "whatsapp",
      "externalId": "NULL",
      "createdAt": "2026-01-03 22:26:01"
    },
    {
      "id": "270006",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Teste IA",
      "source": "whatsapp",
      "externalId": "NULL",
      "createdAt": "2026-01-03 22:25:57"
    },
    {
      "id": "270005",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Oi, qual meu treino de hoje?",
      "source": "whatsapp",
      "externalId": "NULL",
      "createdAt": "2026-01-03 22:25:35"
    },
    {
      "id": "270004",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Oi, qual meu treino de hoje?",
      "source": "whatsapp",
      "externalId": "NULL",
      "createdAt": "2026-01-03 22:24:51"
    },
    {
      "id": "270003",
      "personalId": "1",
      "studentId": "1",
      "senderType": "student",
      "message_preview": "Oi, tudo bem?",
      "source": "whatsapp",
      "externalId": "NULL",
      "createdAt": "2026-01-03 22:14:47"
    }
  ],
  "messages": [],
  "stdout": "id\tpersonalId\tstudentId\tsenderType\tmessage_preview\tsource\texternalId\tcreatedAt\n270013\t1\t1\tstudent\tOi, tudo bem?\twhatsapp\ttest123456\t2026-01-03 22:56:54\n270011\t1\t1\tstudent\tTeste de duplicação\twhatsapp\tMSG123456\t2026-01-03 22:30:41\n270009\t1\t1\tstudent\tOi, qual meu treino de hoje?\twhatsapp\tNULL\t2026-01-03 22:28:47\n270008\t1\t1\tstudent\tOi, qual meu treino de hoje?\twhatsapp\tNULL\t2026-01-03 22:27:42\n270007\t1\t1\tstudent\tTeste IA\twhatsapp\tNULL\t2026-01-03 22:26:01\n270006\t1\t1\tstudent\tTeste IA\twhatsapp\tNULL\t2026-01-03 22:25:57\n270005\t1\t1\tstudent\tOi, qual meu treino de hoje?\twhatsapp\tNULL\t2026-01-03 22:25:35\n270004\t1\t1\tstudent\tOi, qual meu treino de hoje?\twhatsapp\tNULL\t2026-01-03 22:24:51\n270003\t1\t1\tstudent\tOi, tudo bem?\twhatsapp\tNULL\t2026-01-03 22:14:47\n",
  "stderr": "",
  "execution_time_ms": 61
}